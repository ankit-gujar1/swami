<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>

<body class="h-100 text-center text-bg-dark">
    <main class="px-5 ">
        <h1 class="my-5">Yep it's illegal</h1>
        <form id="searchForm">
            <!-- <label for="searchInput">Search YouTube:</label> -->
            <div class="mb-3">
                <label for="searchInput" class="form-label fs-4">Ad Free YouTube</label>
                <input type="text" class="form-control" id="searchInput" aria-describedby="emailHelp" placeholder="Paste YouTube Video Link">
            </div>
            <button class="btn btn-lg btn-light fw-bold border-white bg-white" type="submit">Search</button>
        </form>
        <br><br>
        <div id="playerContainer" class="ratio ratio-16x9">
            <iframe id="player" class="embed-responsive-item" src="" allowfullscreen></iframe>
        </div>


        <script>
            function onYouTubeIframeAPIReady() {
                const form = document.getElementById('searchForm');
                form.addEventListener('submit', function (event) {
                    event.preventDefault();
                    const searchInput = document.getElementById('searchInput').value;
                    searchYouTubeVideo(searchInput);
                });
            }

            function searchYouTubeVideo(searchQuery) {
                const apiKey = 'AIzaSyBT4m3rySjow3enhhevi9BYyX_XwxThRK0';
                const maxResults = 1;
                const apiUrl = `https://www.googleapis.com/youtube/v3/search?key=${apiKey}&q=${encodeURIComponent(searchQuery)}&maxResults=${maxResults}&part=snippet`;

                fetch(apiUrl)
                    .then((response) => response.json())
                    .then((data) => {
                        const videoId = data.items[0].id.videoId;
                        const embedUrl = `https://www.youtube.com/embed/${videoId}`;
                        const player = document.getElementById('player');
                        player.src = embedUrl;
                    })
                    .catch((error) => {
                        console.error('Error fetching data:', error);
                    });
            }
        </script>
        <script src="https://www.youtube.com/iframe_api"></script>
    </main>
    </div>
    <script src="/docs/5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>



</body>

</html>
